<!doctype html>
<html lang="en">
<head>
    <title>growapp-mdl</title>
    <meta charset="utf-8">
    <meta name="description" content="growapp-mdl create vegetation time-lapses">
    <meta http-equiv="content-type" content="text/html; charset=UTF8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="icon" href="favicon.ico" type="image/ico">

    <!--link rel="stylesheet" href="./node_modules/material-design-lite/material.min.css"-->
    <link rel="stylesheet" href="./material.min.css">
    <script src="./node_modules/material-design-lite/material.min.js"></script>
    <script src="./language.js"></script>

    <link rel="stylesheet" href="./iconfont/material-icons.css">
    <link rel="stylesheet" href="./node_modules/mdi/css/materialdesignicons.min.css">

    <script>
      var supportedLanguages = ['en', 'nl'];
      function init() {
          var language;
          if (window.localStorage && window.localStorage.language) {
            language = window.localStorage.language;
          } else {
            language = navigator.language || navigator.userLanguage;
          }
          languageProvider.setLanguage(language);
          if (supportedLanguages.indexOf(languageProvider.langCode) > -1) {
            // update form
            var radiobutton = document.querySelector('#' + languageProvider.langCode);
            if (radiobutton && !radiobutton.disabled) {
              radiobutton.parentNode.MaterialRadio.check();
            }
          }
          [].forEach.call(document.languageform.languages, function(radiobutton){
            radiobutton.onchange = function() {
              language = this.value;
              window.localStorage.language = language;
              window.location.reload(false); // cannot translate backward, so reload
            };
          });
          document.querySelector('#buttondone').addEventListener('click', function() {
            window.history.back();
          });
          document.querySelector('#backbutton').addEventListener('click', function(){
              // warning: history keeps track of hashchanges
              window.history.back();
          },false);
      }
    </script>

    <style>
        body {
            margin: 0;
            font-family: 'Roboto', 'Noto', sans-serif;
            background-color: transparent;
        }
        main {
           background-color: #fff;
           background-color: color: rgba(255, 255, 255, 0.56);
        }
        .page-content {
            width: 80%;
            max-width: 512px;
            margin-left: auto;
            margin-right: auto;
        }
        .account-card-wide.mdl-card {
            width: 100%;
        }
        .account-card-wide > .mdl-card__title {
            background: url('./trees.jpg') center / cover;
            color: white;
        }
        .mdl-textfield {
            width: 90%;
        }
        .mdl-textfield__label__icon {
            position: absolute;
            right: 0;
            top: 20px;
        }
    </style>
</head>
<body onload="init();">
<!-- Always shows a header, even in smaller screens. -->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header is-casting-shadow">
        <div id="backbutton" class="mdl-layout__drawer-button"><i class="material-icons">&#xE5C4;<!--arrow_back--></i></div>
        <div class="mdl-layout__header-row">
            <!-- Title -->
            <span class="mdl-layout-title"> <span class="translate">GrowApp - Language</span></span>
        </div>
    </header>

    <main class="mdl-layout__content">
        <div class="page-content">
            <div id="accountemail" class="account-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                    <h2 class="mdl-card__title-text"><i class="material-icons">language</i><span class="translate">Set Language</span></h2>
                </div>
                <div class="mdl-card__supporting-text">
                    <form name="languageform" action="#">
                        <ul class="mdl-list">
                            <li class="mdl-list__item">
                        <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="en">
                            <input type="radio" id="en" class="mdl-radio__button" name="languages" value="en" checked>
                            <span class="mdl-radio__label">English</span>
                        </label>
                            </li>
                            <li class="mdl-list__item">
                        <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="nl">
                            <input type="radio" id="nl" class="mdl-radio__button" name="languages" value="nl">
                            <span class="mdl-radio__label">Nederlands</span>
                        </label>
                            </li>
                        </ul>
                    </form>
                </div>
                <div class="mdl-card__actions mdl-card--border">
                    <a id="buttondone" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
                        <span class="translate">DONE</span>
                    </a>
                </div>
            </div>

        </div>
    </main>
</div>
</body>
</html>
